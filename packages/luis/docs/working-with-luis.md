# Creating LUIS JSON model file

Once you have created individual .lu files you can parse them all to a LUIS JSON model using this command: 
```bash
> bf luis:convert --in <folder with .lu files> --out <outputfolder> --name <luisAppName> --culture <luisAppCulture>]
```

This will parse all .lu files found and will create **ONE** LUIS JSON model. 

If you would like to create multiple luis apps, then you can add a [root.lu file](https://docs.microsoft.com/en-us/azure/bot-service/file-format/bot-builder-lu-file-format?view=azure-bot-service-4.0#external-references) that holds reference to other relevant .lu files and parse it like this: 

```bash
> bf luis:convert --in <root_file.lu> [--out <outputFolder> --name <luisAppName> --culture <luisAppCulture>]
```

This will parse all .lu files referenced in the root_file.lu and output **ONE** LUIS JSON model. 

# Creating a New LUIS App

## using command line 
You can use the new LUIS JSON file to create a new LUIS application using this command.
```bash
bf luis:application:import --in _LUISApp.json --authoringKey "" --endpoint ""
```
Note: If you are using CLI command, you might see the option to provide a versionId, application name directly in the LUIS CLI. You can also provide this information directly in the [.lu file format](https://docs.microsoft.com/en-us/azure/bot-service/file-format/bot-builder-lu-file-format?view=azure-bot-service-4.0#model-description). Version information specified as arguments to CLI command will override any information in the .lu file. 

## using [LUIS](http://luis.ai) portal
- Navigate to [LUIS](http://luis.ai)
- Sign in
- Click on My apps
- "Import new App"
- Choose file -> select the _LUISApp.json generated by bf luis:convert command

# Refresh command
After you have bootstrapped and created your LUIS model and / or QnAMaker knowledge base, you might make subsequent refinements to your models directly from [luis.ai](https://luis.ai/). You can use the convert command to re-generate .lu files from your LUIS JSON and / or QnAMaker JSON files.  

```bash
bf luis:convert --in <LUISJsonFile>
```

# Exporting LUIS model (for bf luis:convert)
## Using CLI
```bash
bf luis:version:export --appId <string> --versionId <string> --authoringKey <key>
```
## using [LUIS](http://luis.ai) portal
- Navigate to [LUIS](http://luis.ai)
- Sign in
- Click on My apps
- Find the app you wish to download, click "..." -> Export app



